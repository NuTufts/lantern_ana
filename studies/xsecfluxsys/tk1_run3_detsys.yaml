# numu_run1_test.yaml

# Output directory
output_dir: "./output_numu_run1_sys_test/"

# Maximum events to process (set to -1 for all events)
max_events: -1

# Filter out failed events from output tree
filter_events: True

# Enable producer-first mode
producer_first_mode: True

# Print producer dependency graph
print_dependency_graph: true

# Dataset configuration
datasets:
  folders:
    - /home/twongjirad/working/larbys/gen2/container_u20_env/work/lantern_ana/studies/numu_cc_tki/output_tki_run3/

  mcc9_v29e_dl_run3b_bnb_nu_overlay_CV:
    type: RootDataset
    tree: analysis_tree
    ismc: true
    process: true
    filepaths:
     - mcc9_v29e_dl_run3b_bnb_nu_overlay_CV_20251006_155541.root
  run3b_bnb_nu_overlay_500k_CV:
    type: RootDataset
    tree: analysis_tree
    ismc: true
    process: false
    filepaths:
     - run3b_bnb_nu_overlay_500k_CV_20251006_155609.root

# Producer configuration (producers run first)
producers:
  
  detsys_cv:
    type: UBDetSysProducer
    config:
      variations_to_include:
        - wiremodX
      run: eventIndex_run
      subrun: eventIndex_subrun
      event: eventIndex_event
      central_value_dataset: mcc9_v29e_dl_run3b_bnb_nu_overlay_CV

      variation_rootfiles:
        wiremodX: /home/twongjirad/working/larbys/gen2/container_u20_env/work/lantern_ana/studies/numu_cc_tki/output_tki_run3/run3b_bnb_nu_overlay_wiremodX_20251006_160222.root 
      variation_treename: analysis_tree
      cut_formulas:
        pass_selection: "{ntuple.numuCC1piNpReco_is_target_1mu1piNproton}==1"
      event_selection_critera: ['pass_selection']
      bin_config: 
        numuCC1piNpReco_delPTT:
          formula: numuCC1piNpReco_delPTT
          numbins: 20
          minvalue: -1.0
          maxvalue: 1.0
          applicable_variations: ['wiremodX']


# Cut configuration
#cuts: 
#  remove_true_nue_cc:
#    applyto:
#     - run1_bnb_nu_overlay_mcc9_v28_wctagger
#
#cut_logic: "(not {remove_true_nue_cc})"

