# numu_cc_analysis_config.yaml

# Output directory
output_dir: "./zev_mmr/mmr_outputs/"

# Maximum events to process (set to -1 for all events)
max_events: -1

# Filter out failed events from output tree
filter_events: True

# Print producer dependency graph
print_dependency_graph: true

# Dataset configuration
datasets:
  folders:
    # - /cluster/tufts/wongjiradlabnu/zimani01/lantern_data/
    # - /cluster/tufts/wongjiradlabnu/zimani01/lantern_data/v3dev_reco_retune/
    - /exp/uboone/data/users/imani/nutples/
    - /exp/uboone/data/users/imani/nutples/v3dev_reco_retune/
  run1_bnb_nue_overlay_mcc9_v28_wctagger:
    type: RootDataset
    tree: EventTree
    ismc: true
    process: true
    filepaths:
     - dlgen2_reco_v2me06_ntuple_v5_mcc9_v28_wctagger_nueintrinsics.root
    #  - ntuple_mcc9_v28_wctagger_nueintrinsics_v3dev_reco_retune.root
  run1_bnb_nu_overlay_mcc9_v28_wctagger:
    type: RootDataset
    tree: EventTree
    ismc: true
    process: true 
    filepaths:
     - dlgen2_reco_v2me06_ntuple_v5_mcc9_v28_wctagger_bnboverlay.root
    #  - ntuple_mcc9_v28_wctagger_bnboverlay_v3dev_reco_retune.root
  run1_extbnb_mcc9_v29e_C1:
    type: RootDataset
    tree: EventTree
    ismc: false
    process: true
    filepaths:
    - dlgen2_reco_v2me06_ntuple_v5_mcc9_v29e_dl_run1_C1_extbnb.root
      # - ntuple_mcc9_v29e_dl_run1_C1_extbnb_v3dev_reco_retune.root
  run1_bnb5e19:
    type: RootDataset
    tree: EventTree
    ismc: false
    process: true
    filepaths:
    - dlgen2_reco_v2me05_ntuple_v5_mcc9_v28_wctagger_bnb5e19.root
      # - ntuple_mcc9_v28_wctagger_bnb5e19_v3dev_reco_retune.root

# Producer configuration
producers:

  ## True neutrino properties 
  # trueNu:
  #   type: trueNuPropertiesProducer
  #   config: {}

  ## MC event weight  
  eventweight:
    type: eventWeightProducer
    config: {}

  ## Numu MMR Cuts
  numuIncCC:
    type: numuIncCCProducer
    config: {}

  ## Nue MMR Cuts
  nueIncCC:
    type: nueIncCCProducer
    config: {}
      # cosmic_fraction_threshold: 1.0
      # muon_score_threshold: -3.7
      # electron_confidence_threshold: 7.1 
  
  nue_selection_result:
    type: CutResultProducer
    config:
      cutname: remove_true_nue_cc

# Cut configuration
cuts:
  # Remove true nue CC events (based on MC truth)
  remove_true_nue_cc:
    applyto:
      - run1_bnb_nu_overlay_mcc9_v28_wctagger

cut_logic: "not {remove_true_nue_cc}"
