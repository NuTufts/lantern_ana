# numu_cc_analysis_config.yaml

# Output directory
output_dir: "./zev_mmr/mmr_outputs/"

# Maximum events to process (set to -1 for all events)
max_events: -1

# Filter out failed events from output tree
filter_events: True

# Print producer dependency graph
print_dependency_graph: true

# Dataset configuration
datasets:
  folders:
    - /home/twongjirad/working/larbys/gen2/container_u20_env/work/lantern_ana/
    - /home/twongjirad/working/data/ntuples/
    - /cluster/tufts/wongjiradlabnu/nutufts/data/ntuples/v3dev_reco_retune/
    - /pnfs/uboone/scratch/users/eyandel/SURPRISE/processed_checkout_rootfiles/run4b/
    - /mnt/ddrive/data/
    - /nashome/z/zimani/lantern/lantern_ana/xsecweights/
    - /exp/uboone/data/users/imani/nutples/v3dev_reco_retune/
    - /exp/uboone/data/uboonepro/MCC9.10/liangliu/v10_04_07_09/
  run4b_v10_04_07_09_BNB_nu_overlay_surprise:
    type: RootDataset
    tree: lantern/EventTree
    pottree: lantern/potTree
    ismc: true
    process: true
    friendtrees:
      weight_tree: xsecweight_MCC9.10_Run4b_v10_04_07_09_BNB_nu_overlay_surprise.root    
    filepaths:
     - MCC9.10_Run4b_v10_04_07_09_BNB_nu_overlay_surprise_reco2_hist.root
  run4b_v10_04_07_09_BNB_nue_overlay_surprise:
    type: RootDataset
    tree: lantern/EventTree
    pottree: lantern/potTree
    ismc: true
    process: true
    friendtrees:
      weight_tree: xsecweight_MCC9.10_Run4b_v10_04_07_09_BNB_nue_overlay_surprise.root
    filepaths:
     - MCC9.10_Run4b_v10_04_07_09_BNB_nue_overlay_surprise_reco2_hist.root
  run4b_v10_04_07_09_extbnb:
    type: RootDataset
    tree: lantern/EventTree
    pottree: lantern/potTree
    ismc: false
    process: true
    filepaths:
    - MCC9.10_Run4b_v10_04_07_09_Run4b_BNB_beam_off_surprise_reco2_hist.root
  run4b_beamon:
    type: RootDataset
    tree: lantern/EventTree
    pottree: lantern/potTree
    ismc: false
    process: true
    filepaths:
    - MCC9.10_Run4b_v10_04_07_11_BNB_beam_on_surprise_reco2_hist.root

# Producer configuration
producers:

  ## True neutrino properties 
  # trueNu:
  #   type: trueNuPropertiesProducer
  #   config: {}

  ## MC event weight  
  eventweight:
    type: eventWeightProducer
    config: {}

  ## Numu MMR Cuts
  numuIncCC:
    type: numuIncCCProducer
    config: {}

  ## Nue MMR Cuts
  nueIncCC:
    type: nueIncCCProducer
    config: {}
      # cosmic_fraction_threshold: 1.0
      # muon_score_threshold: -3.7
      # electron_confidence_threshold: 7.1 
  
  nue_selection_result:
    type: CutResultProducer
    config:
      cutname: remove_true_nue_cc

# Cut configuration
cuts:
  # Remove true nue CC events (based on MC truth)
  remove_true_nue_cc:
    applyto:
      - run4b_v10_04_07_09_BNB_nu_overlay_surprise

cut_logic: "not {remove_true_nue_cc}"
